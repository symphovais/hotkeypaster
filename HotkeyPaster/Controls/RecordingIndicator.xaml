<UserControl x:Class="TalkKeys.Controls.RecordingIndicator"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="24">

    <UserControl.Resources>
        <!-- Pulse Animation for Recording -->
        <Storyboard x:Key="PulseAnimation" RepeatBehavior="Forever" AutoReverse="True">
            <DoubleAnimation Storyboard.TargetName="StatusDot"
                             Storyboard.TargetProperty="Opacity"
                             From="1" To="0.5" Duration="0:0:0.8"/>
        </Storyboard>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <!-- Status Dot (pulsing when recording) -->
        <Grid Grid.Column="0" Width="16" Height="16" Margin="0,0,8,0">
            <Ellipse x:Name="StatusDot" Width="10" Height="10">
                <Ellipse.Fill>
                    <RadialGradientBrush x:Name="StatusDotBrush">
                        <GradientStop x:Name="DotColorInner" Color="#EF4444" Offset="0"/>
                        <GradientStop x:Name="DotColorOuter" Color="#DC2626" Offset="1"/>
                    </RadialGradientBrush>
                </Ellipse.Fill>
            </Ellipse>
        </Grid>

        <!-- Timer -->
        <TextBlock x:Name="TimerText"
                   Grid.Column="1"
                   Text="0:00"
                   Foreground="#FFFFFF"
                   FontSize="12"
                   FontWeight="SemiBold"
                   VerticalAlignment="Center"
                   Margin="0,0,10,0"/>

        <!-- Audio Level Bars -->
        <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
            <Border x:Name="LevelBar1" Width="3" Height="6" CornerRadius="1" Background="#4B5563" Margin="0,0,2,0"/>
            <Border x:Name="LevelBar2" Width="3" Height="10" CornerRadius="1" Background="#4B5563" Margin="0,0,2,0"/>
            <Border x:Name="LevelBar3" Width="3" Height="5" CornerRadius="1" Background="#4B5563" Margin="0,0,2,0"/>
            <Border x:Name="LevelBar4" Width="3" Height="12" CornerRadius="1" Background="#4B5563" Margin="0,0,2,0"/>
            <Border x:Name="LevelBar5" Width="3" Height="8" CornerRadius="1" Background="#4B5563"/>
        </StackPanel>
    </Grid>
</UserControl>
